{"version":3,"sources":["../source/JavascriptTimeAgo.test.js"],"names":["JavascriptTimeAgo","day","month","year","defaultStyle","english","describe","it","time_ago","format","Date","now","flavour","should","equal","thrower","throw","units","just_now_formatter","locales","en","long","custom","time","date","locale","convenient_gradation_test","convenient_gradation_labels","style","elapsed","convenient_gradation","length","Error","i"],"mappings":"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","file":"JavascriptTimeAgo.test.js","sourcesContent":["import JavascriptTimeAgo from '../source/JavascriptTimeAgo'\r\nimport { day, month, year } from '../source/gradation'\r\nimport { defaultStyle } from '../source/style'\r\n\r\n// Load locale specific relative date/time messages\r\nimport english from '../locale/en'\r\n\r\ndescribe(`time ago`, function()\r\n{\r\n\tit(`should try various flavours if some are not found`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\ttime_ago.format(Date.now(), { flavour: ['exotic', 'short'] }).should.equal('now')\r\n\t})\r\n\r\n\tit(`should accept a string style argument`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\ttime_ago.format(Date.now(), 'twitter').should.equal('')\r\n\t\ttime_ago.format(Date.now(), 'time').should.equal('just now')\r\n\t\ttime_ago.format(Date.now(), 'exotic').should.equal('just now')\r\n\t})\r\n\r\n\tit(`should accept empty constructor parameters`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo()\r\n\t\ttime_ago.format(new Date()).should.equal('just now')\r\n\t})\r\n\r\n\tit(`should accept Dates`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\ttime_ago.format(new Date()).should.equal('just now')\r\n\t})\r\n\r\n\tit(`should not accept anything but Dates and timestamps`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\tconst thrower = () => time_ago.format('Jan 14, 2017')\r\n\t\tthrower.should.throw('Unsupported relative time formatter input: string, Jan 14, 2017')\r\n\t})\r\n\r\n\tit(`should return an empty string if the passed units are not available in locale data`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\ttime_ago.format(Date.now(), { units: ['femtosecond'] }).should.equal('')\r\n\t})\r\n\r\n\tit(`should return an empty string if no unit is suitable`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\t\tconst now = Date.now()\r\n\r\n\t\t// Remove 'now' unit formatting rule temporarily\r\n\t\tconst just_now_formatter = JavascriptTimeAgo.locales.en.long.now\r\n\t\tdelete JavascriptTimeAgo.locales.en.long.now\r\n\r\n\t\ttime_ago.format(now, { now }).should.equal('')\r\n\r\n\t\t// Restore 'now' unit formating rule\r\n\t\tJavascriptTimeAgo.locales.en.long.now = just_now_formatter\r\n\t})\r\n\r\n\tit(`should format for a style with \"custom\" function`, function()\r\n\t{\r\n\t\tconst time_ago = new JavascriptTimeAgo('en')\r\n\r\n\t\t// `custom` returns a string\r\n\t\ttime_ago.format(Date.now(),\r\n\t\t{\r\n\t\t\tcustom({ now, time, date, locale })\r\n\t\t\t{\r\n\t\t\t\treturn locale\r\n\t\t\t}\r\n\t\t})\r\n\t\t.should.equal('en')\r\n\r\n\t\t// `custom` returns `undefined`\r\n\t\ttime_ago.format(Date.now(),\r\n\t\t{\r\n\t\t\tcustom({ now, time, date, locale })\r\n\t\t\t{\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t})\r\n\t\t.should.equal('now')\r\n\t})\r\n\r\n\tit(`should format time correctly for English language (short)`, function()\r\n\t{\r\n\t\tconvenient_gradation_test\r\n\t\t([\r\n\t\t\t'now',\r\n\t\t\t'1 min. ago',\r\n\t\t\t'2 min. ago',\r\n\t\t\t'5 min. ago',\r\n\t\t\t'10 min. ago',\r\n\t\t\t'15 min. ago',\r\n\t\t\t'20 min. ago',\r\n\t\t\t'25 min. ago',\r\n\t\t\t'30 min. ago',\r\n\t\t\t'35 min. ago',\r\n\t\t\t'40 min. ago',\r\n\t\t\t'45 min. ago',\r\n\t\t\t'50 min. ago',\r\n\t\t\t'1 hr. ago',\r\n\t\t\t'2 hr. ago',\r\n\t\t\t'3 hr. ago',\r\n\t\t\t'4 hr. ago',\r\n\t\t\t'5 hr. ago',\r\n\t\t\t'6 hr. ago',\r\n\t\t\t'7 hr. ago',\r\n\t\t\t'8 hr. ago',\r\n\t\t\t'9 hr. ago',\r\n\t\t\t'10 hr. ago',\r\n\t\t\t'11 hr. ago',\r\n\t\t\t'12 hr. ago',\r\n\t\t\t'13 hr. ago',\r\n\t\t\t'14 hr. ago',\r\n\t\t\t'15 hr. ago',\r\n\t\t\t'16 hr. ago',\r\n\t\t\t'17 hr. ago',\r\n\t\t\t'18 hr. ago',\r\n\t\t\t'19 hr. ago',\r\n\t\t\t'20 hr. ago',\r\n\t\t\t'1 day ago',\r\n\t\t\t'2 days ago',\r\n\t\t\t'3 days ago',\r\n\t\t\t'4 days ago',\r\n\t\t\t'5 days ago',\r\n\t\t\t'1 wk. ago',\r\n\t\t\t'2 wk. ago',\r\n\t\t\t'3 wk. ago',\r\n\t\t\t'1 mo. ago',\r\n\t\t\t'2 mo. ago',\r\n\t\t\t'3 mo. ago',\r\n\t\t\t'4 mo. ago',\r\n\t\t\t'5 mo. ago',\r\n\t\t\t'6 mo. ago',\r\n\t\t\t'7 mo. ago',\r\n\t\t\t'8 mo. ago',\r\n\t\t\t'9 mo. ago',\r\n\t\t\t'9 mo. ago',\r\n\t\t\t'10 mo. ago',\r\n\t\t\t'1 yr. ago',\r\n\t\t\t'2 yr. ago',\r\n\t\t\t'3 yr. ago',\r\n\t\t\t'100 yr. ago'\r\n\t\t],\r\n\t\t'en',\r\n\t\t{ flavour: 'short' })\r\n\t})\r\n\r\n\tit(`should format time correctly for English language (long)`, function()\r\n\t{\r\n\t\tconvenient_gradation_test\r\n\t\t([\r\n\t\t\t'just now',\r\n\t\t\t'a minute ago',\r\n\t\t\t'2 minutes ago',\r\n\t\t\t'5 minutes ago',\r\n\t\t\t'10 minutes ago',\r\n\t\t\t'15 minutes ago',\r\n\t\t\t'20 minutes ago',\r\n\t\t\t'25 minutes ago',\r\n\t\t\t'30 minutes ago',\r\n\t\t\t'35 minutes ago',\r\n\t\t\t'40 minutes ago',\r\n\t\t\t'45 minutes ago',\r\n\t\t\t'50 minutes ago',\r\n\t\t\t'an hour ago',\r\n\t\t\t'2 hours ago',\r\n\t\t\t'3 hours ago',\r\n\t\t\t'4 hours ago',\r\n\t\t\t'5 hours ago',\r\n\t\t\t'6 hours ago',\r\n\t\t\t'7 hours ago',\r\n\t\t\t'8 hours ago',\r\n\t\t\t'9 hours ago',\r\n\t\t\t'10 hours ago',\r\n\t\t\t'11 hours ago',\r\n\t\t\t'12 hours ago',\r\n\t\t\t'13 hours ago',\r\n\t\t\t'14 hours ago',\r\n\t\t\t'15 hours ago',\r\n\t\t\t'16 hours ago',\r\n\t\t\t'17 hours ago',\r\n\t\t\t'18 hours ago',\r\n\t\t\t'19 hours ago',\r\n\t\t\t'20 hours ago',\r\n\t\t\t'a day ago',\r\n\t\t\t'2 days ago',\r\n\t\t\t'3 days ago',\r\n\t\t\t'4 days ago',\r\n\t\t\t'5 days ago',\r\n\t\t\t'a week ago',\r\n\t\t\t'2 weeks ago',\r\n\t\t\t'3 weeks ago',\r\n\t\t\t'a month ago',\r\n\t\t\t'2 months ago',\r\n\t\t\t'3 months ago',\r\n\t\t\t'4 months ago',\r\n\t\t\t'5 months ago',\r\n\t\t\t'6 months ago',\r\n\t\t\t'7 months ago',\r\n\t\t\t'8 months ago',\r\n\t\t\t'9 months ago',\r\n\t\t\t'9 months ago',\r\n\t\t\t'10 months ago',\r\n\t\t\t'a year ago',\r\n\t\t\t'2 years ago',\r\n\t\t\t'3 years ago',\r\n\t\t\t'100 years ago'\r\n\t\t],\r\n\t\t'en',\r\n\t\tdefaultStyle)\r\n\t})\r\n\r\n\tit(`should format time correctly for Russian language (short)`, function()\r\n\t{\r\n\t\tconvenient_gradation_test\r\n\t\t([\r\n\t\t\t'сейчас',\r\n\t\t\t'1 мин. назад',\r\n\t\t\t'2 мин. назад',\r\n\t\t\t'5 мин. назад',\r\n\t\t\t'10 мин. назад',\r\n\t\t\t'15 мин. назад',\r\n\t\t\t'20 мин. назад',\r\n\t\t\t'25 мин. назад',\r\n\t\t\t'30 мин. назад',\r\n\t\t\t'35 мин. назад',\r\n\t\t\t'40 мин. назад',\r\n\t\t\t'45 мин. назад',\r\n\t\t\t'50 мин. назад',\r\n\t\t\t'1 ч. назад',\r\n\t\t\t'2 ч. назад',\r\n\t\t\t'3 ч. назад',\r\n\t\t\t'4 ч. назад',\r\n\t\t\t'5 ч. назад',\r\n\t\t\t'6 ч. назад',\r\n\t\t\t'7 ч. назад',\r\n\t\t\t'8 ч. назад',\r\n\t\t\t'9 ч. назад',\r\n\t\t\t'10 ч. назад',\r\n\t\t\t'11 ч. назад',\r\n\t\t\t'12 ч. назад',\r\n\t\t\t'13 ч. назад',\r\n\t\t\t'14 ч. назад',\r\n\t\t\t'15 ч. назад',\r\n\t\t\t'16 ч. назад',\r\n\t\t\t'17 ч. назад',\r\n\t\t\t'18 ч. назад',\r\n\t\t\t'19 ч. назад',\r\n\t\t\t'20 ч. назад',\r\n\t\t\t'1 дн. назад',\r\n\t\t\t'2 дн. назад',\r\n\t\t\t'3 дн. назад',\r\n\t\t\t'4 дн. назад',\r\n\t\t\t'5 дн. назад',\r\n\t\t\t'1 нед. назад',\r\n\t\t\t'2 нед. назад',\r\n\t\t\t'3 нед. назад',\r\n\t\t\t'1 мес. назад',\r\n\t\t\t'2 мес. назад',\r\n\t\t\t'3 мес. назад',\r\n\t\t\t'4 мес. назад',\r\n\t\t\t'5 мес. назад',\r\n\t\t\t'6 мес. назад',\r\n\t\t\t'7 мес. назад',\r\n\t\t\t'8 мес. назад',\r\n\t\t\t'9 мес. назад',\r\n\t\t\t'9 мес. назад',\r\n\t\t\t'10 мес. назад',\r\n\t\t\t'1 г. назад',\r\n\t\t\t'2 г. назад',\r\n\t\t\t'3 г. назад',\r\n\t\t\t'100 л. назад'\r\n\t\t],\r\n\t\t'ru',\r\n\t\t{ flavour: 'short' })\r\n\t})\r\n\r\n\tit(`should format time correctly for Russian language (long)`, function()\r\n\t{\r\n\t\tconvenient_gradation_test\r\n\t\t([\r\n\t\t\t'только что',\r\n\t\t\t'1 минуту назад',\r\n\t\t\t'2 минуты назад',\r\n\t\t\t'5 минут назад',\r\n\t\t\t'10 минут назад',\r\n\t\t\t'15 минут назад',\r\n\t\t\t'20 минут назад',\r\n\t\t\t'25 минут назад',\r\n\t\t\t'30 минут назад',\r\n\t\t\t'35 минут назад',\r\n\t\t\t'40 минут назад',\r\n\t\t\t'45 минут назад',\r\n\t\t\t'50 минут назад',\r\n\t\t\t'1 час назад',\r\n\t\t\t'2 часа назад',\r\n\t\t\t'3 часа назад',\r\n\t\t\t'4 часа назад',\r\n\t\t\t'5 часов назад',\r\n\t\t\t'6 часов назад',\r\n\t\t\t'7 часов назад',\r\n\t\t\t'8 часов назад',\r\n\t\t\t'9 часов назад',\r\n\t\t\t'10 часов назад',\r\n\t\t\t'11 часов назад',\r\n\t\t\t'12 часов назад',\r\n\t\t\t'13 часов назад',\r\n\t\t\t'14 часов назад',\r\n\t\t\t'15 часов назад',\r\n\t\t\t'16 часов назад',\r\n\t\t\t'17 часов назад',\r\n\t\t\t'18 часов назад',\r\n\t\t\t'19 часов назад',\r\n\t\t\t'20 часов назад',\r\n\t\t\t'1 день назад',\r\n\t\t\t'2 дня назад',\r\n\t\t\t'3 дня назад',\r\n\t\t\t'4 дня назад',\r\n\t\t\t'5 дней назад',\r\n\t\t\t'1 неделю назад',\r\n\t\t\t'2 недели назад',\r\n\t\t\t'3 недели назад',\r\n\t\t\t'1 месяц назад',\r\n\t\t\t'2 месяца назад',\r\n\t\t\t'3 месяца назад',\r\n\t\t\t'4 месяца назад',\r\n\t\t\t'5 месяцев назад',\r\n\t\t\t'6 месяцев назад',\r\n\t\t\t'7 месяцев назад',\r\n\t\t\t'8 месяцев назад',\r\n\t\t\t'9 месяцев назад',\r\n\t\t\t'9 месяцев назад',\r\n\t\t\t'10 месяцев назад',\r\n\t\t\t'1 год назад',\r\n\t\t\t'2 года назад',\r\n\t\t\t'3 года назад',\r\n\t\t\t'100 лет назад'\r\n\t\t],\r\n\t\t'ru',\r\n\t\tdefaultStyle)\r\n\t})\r\n\r\n\tit(`should format future dates`, function()\r\n\t{\r\n\t\tnew JavascriptTimeAgo('en').format(Date.now() + 60 * 60 * 1000).should.equal('in an hour')\r\n\t\tnew JavascriptTimeAgo('ru').format(Date.now() + 45.1 * 1000).should.equal('через 1 минуту')\r\n\t})\r\n\r\n\tit(`should have generated missing quantifier functions`, function()\r\n\t{\r\n\t\tnew JavascriptTimeAgo('ccp').format(Date.now() + 60 * 1000).should.equal('1 𑄟𑄨𑄚𑄨𑄘𑄬')\r\n\t})\r\n\r\n\tit(`should throw for non-existing locales`, function()\r\n\t{\r\n\t\t(() => JavascriptTimeAgo.locale()).should.throw('Invalid locale data passed')\r\n\t})\r\n})\r\n\r\nexport function convenient_gradation_test(convenient_gradation_labels, time_ago, style = {})\r\n{\r\n\tif (typeof time_ago === 'string')\r\n\t{\r\n\t\ttime_ago = new JavascriptTimeAgo(time_ago)\r\n\t}\r\n\r\n\tconst now = Date.now()\r\n\tconst elapsed = time => time_ago.format(now - time * 1000, { now, ...style })\r\n\r\n\tif (convenient_gradation.length !== convenient_gradation_labels.length)\r\n\t{\r\n\t\tthrow new Error(`Array length mismatch. Gradation steps: ${convenient_gradation.length}, labels: ${convenient_gradation_labels.length}`)\r\n\t}\r\n\r\n\tlet i = 0\r\n\twhile (i < convenient_gradation.length)\r\n\t{\r\n\t\tfor (let time of convenient_gradation[i])\r\n\t\t{\r\n\t\t\telapsed(time).should.equal(convenient_gradation_labels[i])\r\n\t\t}\r\n\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nconst convenient_gradation =\r\n[\r\n\t// 'just now':\r\n\t[\r\n\t\t0,\r\n\t\t44.9\r\n\t],\r\n\t// 'a minute ago':\r\n\t[\r\n\t\t45.1,\r\n\t\t1.49 * 60\r\n\t],\r\n\t// '2 minutes ago':\r\n\t[\r\n\t\t1.51 * 60,\r\n\t\t2.49 * 60\r\n\t],\r\n\t// '5 minutes ago':\r\n\t[\r\n\t\t2.51 * 60,\r\n\t\t7.49 * 60\r\n\t],\r\n\t// '10 minutes ago':\r\n\t[\r\n\t\t7.51  * 60,\r\n\t\t12.49 * 60\r\n\t],\r\n\t// '15 minutes ago':\r\n\t[\r\n\t\t12.51 * 60,\r\n\t\t17.49 * 60\r\n\t],\r\n\t// '20 minutes ago':\r\n\t[\r\n\t\t17.51 * 60,\r\n\t\t22.49 * 60\r\n\t],\r\n\t// '25 minutes ago':\r\n\t[\r\n\t\t22.51 * 60,\r\n\t\t27.49 * 60\r\n\t],\r\n\t// '30 minutes ago':\r\n\t[\r\n\t\t27.51 * 60,\r\n\t\t32.49 * 60\r\n\t],\r\n\t// '35 minutes ago':\r\n\t[\r\n\t\t32.51 * 60,\r\n\t\t37.49 * 60\r\n\t],\r\n\t// '40 minutes ago':\r\n\t[\r\n\t\t37.51 * 60,\r\n\t\t42.49 * 60\r\n\t],\r\n\t// '45 minutes ago':\r\n\t[\r\n\t\t42.51 * 60,\r\n\t\t47.49 * 60\r\n\t],\r\n\t// '50 minutes ago':\r\n\t[\r\n\t\t47.51 * 60,\r\n\t\t52.49 * 60\r\n\t],\r\n\t// 'an hour ago':\r\n\t[\r\n\t\t55.01 * 60,\r\n\t\t1.49  * 60 * 60\r\n\t],\r\n\t// '2 hours ago':\r\n\t[\r\n\t\t1.51  * 60 * 60,\r\n\t\t2.49  * 60 * 60\r\n\t],\r\n\t// '3 hours ago':\r\n\t[\r\n\t\t2.51  * 60 * 60,\r\n\t\t3.49  * 60 * 60\r\n\t],\r\n\t// '4 hours ago':\r\n\t[\r\n\t\t3.51  * 60 * 60,\r\n\t\t4.49  * 60 * 60\r\n\t],\r\n\t// '5 hours ago':\r\n\t[\r\n\t\t4.51  * 60 * 60,\r\n\t\t5.49  * 60 * 60\r\n\t],\r\n\t// '6 hours ago':\r\n\t[\r\n\t\t5.51  * 60 * 60,\r\n\t\t6.49  * 60 * 60\r\n\t],\r\n\t// '7 hours ago':\r\n\t[\r\n\t\t6.51  * 60 * 60,\r\n\t\t7.49  * 60 * 60\r\n\t],\r\n\t// '8 hours ago':\r\n\t[\r\n\t\t7.51  * 60 * 60,\r\n\t\t8.49  * 60 * 60\r\n\t],\r\n\t// '9 hours ago':\r\n\t[\r\n\t\t8.51  * 60 * 60,\r\n\t\t9.49  * 60 * 60\r\n\t],\r\n\t// '10 hours ago':\r\n\t[\r\n\t\t9.51  * 60 * 60,\r\n\t\t10.49 * 60 * 60\r\n\t],\r\n\t// '11 hours ago':\r\n\t[\r\n\t\t10.51 * 60 * 60,\r\n\t\t11.49 * 60 * 60\r\n\t],\r\n\t// '12 hours ago':\r\n\t[\r\n\t\t11.51 * 60 * 60,\r\n\t\t12.49 * 60 * 60\r\n\t],\r\n\t// '13 hours ago':\r\n\t[\r\n\t\t12.51 * 60 * 60,\r\n\t\t13.49 * 60 * 60\r\n\t],\r\n\t// '14 hours ago':\r\n\t[\r\n\t\t13.51 * 60 * 60,\r\n\t\t14.49 * 60 * 60\r\n\t],\r\n\t// '15 hours ago':\r\n\t[\r\n\t\t14.51 * 60 * 60,\r\n\t\t15.49 * 60 * 60\r\n\t],\r\n\t// '16 hours ago':\r\n\t[\r\n\t\t15.51 * 60 * 60,\r\n\t\t16.49 * 60 * 60\r\n\t],\r\n\t// '17 hours ago':\r\n\t[\r\n\t\t16.51 * 60 * 60,\r\n\t\t17.49 * 60 * 60\r\n\t],\r\n\t// '18 hours ago':\r\n\t[\r\n\t\t17.51 * 60 * 60,\r\n\t\t18.49 * 60 * 60\r\n\t],\r\n\t// '19 hours ago':\r\n\t[\r\n\t\t18.51 * 60 * 60,\r\n\t\t19.49 * 60 * 60\r\n\t],\r\n\t// '20 hours ago':\r\n\t[\r\n\t\t19.51 * 60 * 60,\r\n\t\t20.49 * 60 * 60\r\n\t],\r\n\t// 'a day ago':\r\n\t[\r\n\t\t20.51 * 60 * 60,\r\n\t\t1.49  * day\r\n\t],\r\n\t// '2 days ago':\r\n\t[\r\n\t\t1.51  * day,\r\n\t\t2.49  * day\r\n\t],\r\n\t// '3 days ago':\r\n\t[\r\n\t\t2.51  * day,\r\n\t\t3.49  * day\r\n\t],\r\n\t// '4 days ago':\r\n\t[\r\n\t\t3.51  * day,\r\n\t\t4.49  * day\r\n\t],\r\n\t// '5 days ago':\r\n\t[\r\n\t\t4.51  * day,\r\n\t\t5.49  * day\r\n\t],\r\n\t// 'a week ago':\r\n\t[\r\n\t\t5.51  * day,\r\n\t\t1.49  * 7 * day\r\n\t],\r\n\t// '2 weeks ago':\r\n\t[\r\n\t\t1.51  * 7 * day,\r\n\t\t2.49  * 7 * day\r\n\t],\r\n\t// '3 weeks ago':\r\n\t[\r\n\t\t2.51  * 7 * day,\r\n\t\t3.49  * 7 * day\r\n\t],\r\n\t// 'a month ago':\r\n\t[\r\n\t\t3.51  * 7 * day,\r\n\t\t1.49  * month\r\n\t],\r\n\t// '2 months ago':\r\n\t[\r\n\t\t1.51  * month,\r\n\t\t2.49  * month\r\n\t],\r\n\t// '3 months ago':\r\n\t[\r\n\t\t2.51  * month,\r\n\t\t3.49  * month\r\n\t],\r\n\t// '4 months ago':\r\n\t[\r\n\t\t3.51  * month,\r\n\t\t4.49  * month\r\n\t],\r\n\t// '5 months ago':\r\n\t[\r\n\t\t4.51  * month,\r\n\t\t5.49  * month\r\n\t],\r\n\t// '6 months ago':\r\n\t[\r\n\t\t5.51  * month,\r\n\t\t6.49  * month\r\n\t],\r\n\t// '7 months ago':\r\n\t[\r\n\t\t6.51  * month,\r\n\t\t7.49  * month\r\n\t],\r\n\t// '8 months ago':\r\n\t[\r\n\t\t7.51  * month,\r\n\t\t8.49  * month\r\n\t],\r\n\t// '9 months ago':\r\n\t[\r\n\t\t8.51  * month,\r\n\t\t8.99  * month\r\n\t],\r\n\t// '9 months ago':\r\n\t[\r\n\t\t9.01  * month,\r\n\t\t9.49  * month\r\n\t],\r\n\t// '10 months ago':\r\n\t[\r\n\t\t9.51  * month,\r\n\t\t10.49  * month\r\n\t],\r\n\t// 'a year ago':\r\n\t[\r\n\t\t10.51 * month,\r\n\t\t1.49  * year\r\n\t],\r\n\t// '2 years ago':\r\n\t[\r\n\t\t1.51  * year,\r\n\t\t2.49  * year\r\n\t],\r\n\t// '3 years ago':\r\n\t[\r\n\t\t2.51  * year,\r\n\t\t3.49  * year\r\n\t],\r\n\t// '100 years ago':\r\n\t[\r\n\t\t99.51  * year,\r\n\t\t100.49 * year\r\n\t]\r\n]"]}